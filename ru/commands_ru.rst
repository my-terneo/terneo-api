Команды
~~~~~~~

Для получения параметров устройства служит ключ ``cmd``. 
Возможные значения:

	* 1 - запрос на получение `параметров <parameters_ru.html>`_
	* 2 - запрос на получение `расписания <schedule_ru.html>`_
	* 3 - запрос на получение времени устройства (доступно в версии 2.4 и выше)
	* 4 - запрос на получение `телеметрии <telemetry_ru.html>`_
	* 5 - запрос cброса `параметров <parameters_ru.html>`_
	* 6 - запрос cброса `расписания <schedule_ru.html>`_
 
Запрос ``{"cmd":1}``

Получение `параметров <parameters_ru.html>`_

Ответ: 

.. code-block:: json

    {
	    "sn":"058016000543464839373520000159",
	    "par":[[0,6,"536112000"],[1,6,"536112000"],
	           [2,2,"1"],[3,2,"0"],[4,1,"30"],
	           [5,1,"30"],[6,1,"25"],[7,1,"5"],
	           [18,2,"2"],[19,2,"10"],[21,1,"0"],
	           [23,2,"6"],[25,2,"15"],[26,1,"45"],
	           [27,1,"5"],[28,2,"16"],[29,1,"0"],
	           [17,4,"175"],[114,7,"1"],[115,7,"0"],
	           [116,7,"0"],[117,7,"0"],[118,7,"0"],
	           [121,7,"0"],[122,7,"0"],[124,7,"0"],
	           [125,7,"0"]]
    }

Запрос ``{"cmd":2}``

Получение `расписания <schedule_ru.html>`_

Ответ:

.. code-block:: json

   {
     "sn":"058016000543464839373520000159",
     "tt":{
            "0":[[360,300],[480,250],[1020,300],[1320,250]],
            "1":[[360,300],[480,250],[1020,300],[1320,250]],
            "2":[[360,300],[480,250],[1020,300],[1320,250]],
            "3":[[360,300],[480,250],[1020,300],[1320,250]],
            "4":[[360,300],[480,250],[1020,300],[1320,250]],
            "5":[[480,300],[1380,250]],
            "6":[[480,300],[1380,250]]
          }
   }
   
Запрос ``{"cmd":3}``

Получение времени устройства (доступно в версии 2.4 и выше):

Ответ: 

.. code-block:: json
 
	{
		"sn":"058016000543464839373520000159",
		"time":"634993283"
	}

Где ``time`` - время в секундах от 01.01.2000 00:00	

Запрос ``{"cmd":4}``

Получение `телеметрии <telemetry_ru.html>`_

Ответ:

.. code-block:: json

   	 {
   	 	"sn":"058016000543464839373520000159",
   	 	"t.0":"450","t.1":"416","t.5":"480",
   	 	"m.0":"0","m.1":"3","m.2":"34","m.3":"2",
   	 	"f.0":"1","f.1":"0","f.2":"0","f.3":"0",
   	 	"f.4":"0","f.7":"0","f.8":"0","f.9":"0",
   	 	"f.13":"0","f.14":"0","f.10":"0","f.11":"1",
   	 	"f.12":"0","o.0":"-83","o.1":"6","f.15":"0",
   	 	"par.26":"45","par.27":"5"
   	 }

Запрос ``{"cmd":5}``

Запрос сброса `параметров <parameters_ru.html>`_ на значение по умолчанию. В запрос необходимо включить «sn». При установленной блокировки изменений из локальной сети ([114,7,"1"]) в запрос необходимо включить ключи «auth» и «time» (см. `Безопасность <safety_ru.html>`_).

.. code-block:: json

	{"cmd":5,"sn":"058016000543464839373520000159" }

Ответ:

При ([114,7,"0"]) (см. `Безопасность <safety_ru.html>`_):

.. code-block:: json

	{
	 "sn":"058016000543464839373520000159",
	 "par":[[0,6,"536112000"],[1,6,"536112000"],[2,2,"1"],[3,2,"0"],[4,1,"30"],[5,1,"30"]
        	[6,1,"25"],[7,1,"5"],[18,2,"2"],[19,2,"10"],[21,1,"0"],[23,2,"6"],
        	[25,2,"15"],[26,1,"45"],[27,1,"5"],[28,2,"16"],[29,1,"0"],[17,4,"175"],
        	[114,7,"1"],[115,7,"0"],[116,7,"0"],[117,7,"0"],[118,7,"0"],[121,7,"0"],
        	[122,7,"0"],[124,7,"0"],[125,7,"0"]]
	}

При ([114,7,"1"]) (см. `Безопасность <safety_ru.html>`_):

.. code-block:: json

	{"success":"block"}

Запрос ``{"cmd":6}``

Запрос сброса `расписания <schedule_ru.html>`_ на значение по умолчанию. В запрос необходимо включить «sn». При установленной блокировки изменений из локальной сети ([114,7,"1"]) в запрос необходимо включить ключи «auth» и «time» (см. `Безопасность <safety_ru.html>`_).

.. code-block:: json

	{"cmd":6,"sn":"058016000543464839373520000159" }

Ответ:

При ([114,7,"0"]) (см. `Безопасность <safety_ru.html>`_):

.. code-block:: json

	{
	 "sn":"058016000543464839373520000159",
	 "tt":{
       		"0":[[360,300],[480,250],[1020,300],[1320,250]],
        	"1":[[360,300],[480,250],[1020,300],[1320,250]],
        	"2":[[360,300],[480,250],[1020,300],[1320,250]],
        	"3":[[360,300],[480,250],[1020,300],[1320,250]],
        	"4":[[360,300],[480,250],[1020,300],[1320,250]],
        	"5":[[480,300],[1380,250]],
        	"6":[[480,300],[1380,250]]
              }
   	}

При ([114,7,"1"]) (см. `Безопасность <safety_ru.html>`_):

.. code-block:: json

	{"success":"block"}